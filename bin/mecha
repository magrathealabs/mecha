#!/usr/bin/env ruby

$LOAD_PATH.unshift(File.join(File.dirname(__FILE__), '..', 'lib'))

require 'slop'
require 'mecha'

Mecha.opts = Slop.parse do |o|
  o.bool '-d', '--devise', 'install and config Devise'
  o.bool '-bp', '--bitbucket-pipelines', 'config Bitbucket Pipelines'
  o.on '--version', 'print the gem version' do
    puts Mecha::VERSION
    exit
  end
  o.on '--help', 'list options' do
    puts o
    exit
  end
end

Mecha.config_templates_path
Mecha::AppGenerator.start
